$(document).ready(function(){var a=0;var b=0;var c=0;var d=0;var e=false;var f=false;var g=false;var h=function(a,b){if(a.firstChild)a.replaceChild(b,a.firstChild);else a.appendChild(b);};var i=function(){var c=$('#username')[0].value;var d=$('#check_username')[0];var i=$('#submit');if(c.length<5){h(d,document.createTextNode((cur_lang=='de'?'Name ist zu kurz':'Name is too short')));e=false;i.className='disabled';i.disabled=true;return true;}else if(c.length>32){h(d,document.createTextNode((cur_lang=='de'?'Name ist zu lang':'Name is too long')));e=false;i.addClass('disabled');i[0].disabled=true;return true;}a++;var j=url+'/community/account/func.register.php?action=check_user&value='+encodeURIComponent(c)+'&cnt='+a;$.ajax({url:j,type:'get',dataType:'script',success:function(a){var c=$('#check_username')[0];var d=$('#submit');var i=a.split('|');i[0]=parseInt(i[0]);if(i[0]<b)return false;b=i[0];if(i[1]==1){h(c,document.createTextNode((cur_lang=='de'?'Name ist in Ordnung':'Name is okay')));e=true;if(f&&g){d.removeClass('disabled');d[0].disabled=false;}}else{h(c,document.createTextNode((cur_lang=='de'?'Name ist vergeben':'Name is taken')));e=false;d.addClass('disabled');d[0].disabled=true;}}});};$('#username').change(i);$('#username').keyup(i);var j=function(){var a=$('#email')[0].value;var b=$('#check_email')[0];var i=$('#submit');c++;var j=url+'/community/account/func.register.php?action=check_email&value='+encodeURIComponent(a)+'&cnt='+c;$.ajax({url:j,type:'get',dataType:'script',success:function(a){var b=$('#check_email')[0];var c=$('#submit');var i=a.split('|');i[0]=parseInt(i[0]);if(i[0]<d)return false;d=i[0];if(i[1]==2){h(b,document.createTextNode((cur_lang=='de'?'E-Mail Adresse ist ungültig':'E-Mail address is invalid')));f=false;c.addClass('disabled');c[0].disabled=true;}else if(i[1]==1){h(b,document.createTextNode((cur_lang=='de'?'E-Mail Adresse ist in Ordnung':'E-Mail address is okay')));f=true;if(e&&g){c.removeClass('disabled');c[0].disabled=false;}}else{h(b,document.createTextNode((cur_lang=='de'?'E-Mail Adresse ist vergeben':'E-Mail address is taken')));f=false;c.addClass('disabled');c[0].disabled=true;}}});};$('#email').change(j);$('#email').keyup(j);var k=function(){var a=$('#submit');var b=$('#passwd').val();var c=$('#passwd2').val();var d=$('#check_passwd')[0];if(b.length===0)return true;else if(b.length<5){h(d,document.createTextNode((cur_lang=='de'?'Passwort ist zu kurz':'Password is too short')));a.addClass('disabled');a[0].disabled=true;}else if(b.length>20){h(d,document.createTextNode((cur_lang=='de'?'Passwort ist zu lang':'Password is too long')));a.addClass('disabled');a[0].disabled=true;}else if(b==c){h(d,document.createTextNode((cur_lang=='de'?'Passwort ist in Ordnung':'Password is okay')));a.removeClass('disabled');a[0].disabled=false;}else{h(d,document.createTextNode((cur_lang=='de'?'Passwörter sind nicht identisch':'Passwords are not identical')));a.addClass('disabled');a.disabled=true;}};$('#passwd').change(k);$('#passwd').keyup(k);$('#passwd2').change(k);$('#passwd2').keyup(k);});